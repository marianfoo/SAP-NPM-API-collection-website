{"version":3,"file":"BaseController.js","names":["formatter","BaseController","Controller","getOwnerComponent","getRouter","UIComponent","getRouterFor","getResourceBundle","oModel","getModel","sName","getView","setModel","navTo","oParameters","bReplace","undefined","onNavBack","event","sPreviousHash","History","getInstance","getPreviousHash","window","history","go","onButtonHeaderSelect","headerKey","setProperty"],"sources":["../../src/controller/BaseController.ts"],"sourcesContent":["import Controller from \"sap/ui/core/mvc/Controller\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\nimport AppComponent from \"../Component\";\nimport Model from \"sap/ui/model/Model\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Router from \"sap/ui/core/routing/Router\";\nimport History from \"sap/ui/core/routing/History\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport formatter from \"../model/formatter\";\n\n/**\n * @namespace org.openui5.bestofui5.controller\n */\nexport default abstract class BaseController extends Controller {\n\tstatic formatter = formatter;\n\n\t/**\n\t * Convenience method for accessing the component of the controller's view.\n\t * @returns The component of the controller's view\n\t */\n\tpublic getOwnerComponent(): AppComponent {\n\t\treturn super.getOwnerComponent() as AppComponent;\n\t}\n\n\t/**\n\t * Convenience method to get the components' router instance.\n\t * @returns The router instance\n\t */\n\tpublic getRouter(): Router {\n\t\treturn UIComponent.getRouterFor(this);\n\t}\n\n\t/**\n\t * Convenience method for getting the i18n resource bundle of the component.\n\t * @returns The i18n resource bundle of the component\n\t */\n\tpublic getResourceBundle(): ResourceBundle | Promise<ResourceBundle> {\n\t\tconst oModel = this.getOwnerComponent().getModel(\"i18n\") as ResourceModel;\n\t\treturn oModel.getResourceBundle();\n\t}\n\n\t/**\n\t * Convenience method for getting the view model by name in every controller of the application.\n\t * @param [sName] The model name\n\t * @returns The model instance\n\t */\n\tpublic getModel(sName?: string): Model {\n\t\treturn this.getView().getModel(sName);\n\t}\n\t/**\n\t * Convenience method for setting the view model in every controller of the application.\n\t * @param oModel The model instance\n\t * @param [sName] The model name\n\t * @returns The current base controller instance\n\t */\n\tpublic setModel(oModel: Model, sName?: string): BaseController {\n\t\tthis.getView().setModel(oModel, sName);\n\t\treturn this;\n\t}\n\t/**\n\t * Convenience method for triggering the navigation to a specific target.\n\t * @public\n\t * @param sName Target name\n\t * @param [oParameters] Navigation parameters\n\t * @param [bReplace] Defines if the hash should be replaced (no browser history entry) or set (browser history entry)\n\t */\n\tpublic navTo(sName: string, oParameters?: object, bReplace?: boolean): void {\n\t\tthis.getRouter().navTo(sName, oParameters, undefined, bReplace);\n\t}\n\n\t/**\n\t * Convenience event handler for navigating back.\n\t * It there is a history entry we go one step back in the browser history\n\t * If not, it will replace the current entry of the browser history with the master route.\n\t */\n\tpublic onNavBack(event: UI5Event): void {\n\t\tconst sPreviousHash = History.getInstance().getPreviousHash();\n\t\tif (sPreviousHash !== undefined) {\n\t\t\twindow.history.go(-1);\n\t\t} else {\n\t\t\tthis.getRouter().navTo(\"default\", {}, undefined, true);\n\t\t}\n\t}\n\n\tpublic onButtonHeaderSelect(event: UI5Event, headerKey: string): void {\n\t\t(this.getView().getModel(\"settings\") as JSONModel).setProperty(\"/headerKey\", headerKey);\n\t\tthis.navTo(headerKey);\n\t}\n}\n"],"mappings":";;;;;;;QAUOA,S;EAEP;AACA;AACA;;;QAC8BC,c,GAAuBC,U;IAO7CC,iB,gCAAkC;MACxC;IACA,C;IAMMC,S,wBAAoB;MAC1B,OAAOC,WAAW,CAACC,YAAZ,CAAyB,IAAzB,CAAP;IACA,C;IAMMC,iB,gCAA8D;MACpE,MAAMC,MAAM,GAAG,KAAKL,iBAAL,GAAyBM,QAAzB,CAAkC,MAAlC,CAAf;MACA,OAAOD,MAAM,CAACD,iBAAP,EAAP;IACA,C;IAOME,Q,qBAASC,K,EAAuB;MACtC,OAAO,KAAKC,OAAL,GAAeF,QAAf,CAAwBC,KAAxB,CAAP;IACA,C;IAOME,Q,qBAASJ,M,EAAeE,K,EAAgC;MAC9D,KAAKC,OAAL,GAAeC,QAAf,CAAwBJ,MAAxB,EAAgCE,KAAhC;MACA,OAAO,IAAP;IACA,C;IAQMG,K,kBAAMH,K,EAAeI,W,EAAsBC,Q,EAA0B;MAC3E,KAAKX,SAAL,GAAiBS,KAAjB,CAAuBH,KAAvB,EAA8BI,WAA9B,EAA2CE,SAA3C,EAAsDD,QAAtD;IACA,C;IAOME,S,sBAAUC,K,EAAuB;MACvC,MAAMC,aAAa,GAAGC,OAAO,CAACC,WAAR,GAAsBC,eAAtB,EAAtB;;MACA,IAAIH,aAAa,KAAKH,SAAtB,EAAiC;QAChCO,MAAM,CAACC,OAAP,CAAeC,EAAf,CAAkB,CAAC,CAAnB;MACA,CAFD,MAEO;QACN,KAAKrB,SAAL,GAAiBS,KAAjB,CAAuB,SAAvB,EAAkC,EAAlC,EAAsCG,SAAtC,EAAiD,IAAjD;MACA;IACD,C;IAEMU,oB,iCAAqBR,K,EAAiBS,S,EAAyB;MACpE,KAAKhB,OAAL,GAAeF,QAAf,CAAwB,UAAxB,CAAD,CAAmDmB,WAAnD,CAA+D,YAA/D,EAA6ED,SAA7E;MACA,KAAKd,KAAL,CAAWc,SAAX;IACA;;EA1E4B1B,c,CACtBD,S,GAAYA,S;SADUC,c"}