{"version":3,"file":"Object.controller.js","names":["BaseController","Object","onInit","getRouter","getRoute","attachPatternMatched","onPatternMatched","event","objectName","getParameter","name","model","getModel","dataLoaded","data","getData","objectIndex","packages","findIndex","object","getView","bindElement","path","oModel","JSONModel","setModel","markdownObject","byId","setContent","onPressStandardListItemNpmLink","versionNpm","getSource","getBindingContext","getObject","version","npmLink","getParent","npmlink","link","window","open","onTreeSelect","content"],"sources":["../../src/controller/Object.controller.ts"],"sourcesContent":["import BaseController from \"./BaseController\";\nimport Event from \"sap/ui/base/Event\";\nimport Filter from \"sap/ui/model/Filter\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\n\n/**\n * @namespace org.openui5.bestofui5.controller\n */\nexport default class Object extends BaseController {\n\tpublic onInit(): void {\n\t\tthis.getRouter().getRoute(\"RouteObjectView\").attachPatternMatched(this.onPatternMatched, this);\n\t}\n\n\tpublic async onPatternMatched(event: Event): Promise<void> {\n\t\tconst objectName = event.getParameter(\"arguments\").name;\n\t\tconst model = this.getModel(\"data\");\n\t\tawait model.dataLoaded();\n\t\tconst data = model.getData();\n\t\t// find object index in data\n\t\tconst objectIndex = data.packages.findIndex((object) => object.name === objectName);\n\t\tif (!objectIndex) {\n\t\t\t//object not found\n\t\t\t// return\n\t\t}\n\t\tthis.getView().bindElement({\n\t\t\tpath: `/packages/${objectIndex}`,\n\t\t\tmodel: \"data\",\n\t\t});\n\n\t\tlet oModel = new JSONModel(`https://raw.githubusercontent.com/marianfoo/SAP-NPM-API-collection-data/live-data/data/docs/${objectName}.json`);\n\t\tthis.getView().setModel(oModel, \"content\");\n\t\tconst markdownObject = this.getView().byId(\"treeMarkdownContent\");\n\t\tmarkdownObject.setContent(\"\");\n\t}\n\n\tpublic onPressStandardListItemNpmLink(event: Event): void {\n\t\tconst versionNpm: string = event.getSource().getBindingContext(\"data\").getObject().version;\n\t\tconst npmLink: string = event.getSource().getParent().getBindingContext(\"data\").getObject().npmlink;\n\t\tconst link = `${npmLink}/v/${versionNpm}`;\n\t\twindow.open(link, \"_blank\");\n\t}\n\n\tprivate onTreeSelect(event: Event): void {\n\t\tconst content = event.getParameter(\"listItem\").getBindingContext(\"content\").getObject().content;\n\t\tconst markdownObject = this.getView().getParent().getParent().getParent().getParent().getParent().getParent().byId(\"treeMarkdownContent\");\n\t\tmarkdownObject.setContent(content);\n\t}\n}\n"],"mappings":";;;;;;;QAAOA,c;;EAKP;AACA;AACA;QACqBC,M,GAAeD,c;IAC5BE,M,qBAAe;MACrB,KAAKC,SAAL,GAAiBC,QAAjB,CAA0B,iBAA1B,EAA6CC,oBAA7C,CAAkE,KAAKC,gBAAvE,EAAyF,IAAzF;IACA,C;IAEYA,gB,mCAAiBC,K,EAA6B;MAC1D,MAAMC,UAAU,GAAGD,KAAK,CAACE,YAAN,CAAmB,WAAnB,EAAgCC,IAAnD;MACA,MAAMC,KAAK,GAAG,KAAKC,QAAL,CAAc,MAAd,CAAd;MACA,MAAMD,KAAK,CAACE,UAAN,EAAN;MACA,MAAMC,IAAI,GAAGH,KAAK,CAACI,OAAN,EAAb,CAJ0D,CAK1D;;MACA,MAAMC,WAAW,GAAGF,IAAI,CAACG,QAAL,CAAcC,SAAd,CAAyBC,MAAD,IAAYA,MAAM,CAACT,IAAP,KAAgBF,UAApD,CAApB;;MACA,IAAI,CAACQ,WAAL,EAAkB,CACjB;QACA;MACA;;MACD,KAAKI,OAAL,GAAeC,WAAf,CAA2B;QAC1BC,IAAI,EAAG,aAAYN,WAAY,EADL;QAE1BL,KAAK,EAAE;MAFmB,CAA3B;MAKA,IAAIY,MAAM,GAAG,IAAIC,SAAJ,CAAe,+FAA8FhB,UAAW,OAAxH,CAAb;MACA,KAAKY,OAAL,GAAeK,QAAf,CAAwBF,MAAxB,EAAgC,SAAhC;MACA,MAAMG,cAAc,GAAG,KAAKN,OAAL,GAAeO,IAAf,CAAoB,qBAApB,CAAvB;MACAD,cAAc,CAACE,UAAf,CAA0B,EAA1B;IACA,C;IAEMC,8B,2CAA+BtB,K,EAAoB;MACzD,MAAMuB,UAAkB,GAAGvB,KAAK,CAACwB,SAAN,GAAkBC,iBAAlB,CAAoC,MAApC,EAA4CC,SAA5C,GAAwDC,OAAnF;MACA,MAAMC,OAAe,GAAG5B,KAAK,CAACwB,SAAN,GAAkBK,SAAlB,GAA8BJ,iBAA9B,CAAgD,MAAhD,EAAwDC,SAAxD,GAAoEI,OAA5F;MACA,MAAMC,IAAI,GAAI,GAAEH,OAAQ,MAAKL,UAAW,EAAxC;MACAS,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkB,QAAlB;IACA,C;IAEOG,Y,yBAAalC,K,EAAoB;MACxC,MAAMmC,OAAO,GAAGnC,KAAK,CAACE,YAAN,CAAmB,UAAnB,EAA+BuB,iBAA/B,CAAiD,SAAjD,EAA4DC,SAA5D,GAAwES,OAAxF;MACA,MAAMhB,cAAc,GAAG,KAAKN,OAAL,GAAegB,SAAf,GAA2BA,SAA3B,GAAuCA,SAAvC,GAAmDA,SAAnD,GAA+DA,SAA/D,GAA2EA,SAA3E,GAAuFT,IAAvF,CAA4F,qBAA5F,CAAvB;MACAD,cAAc,CAACE,UAAf,CAA0Bc,OAA1B;IACA;;SAtCmBzC,M"}